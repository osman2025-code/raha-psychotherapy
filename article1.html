<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>RAHA-Articles</title>
        <link rel="icon" href="../assets/image/favicon.png" >
        <link rel="stylesheet" href="../assets/css/article1.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@40,400,0,0&icon_names=star_rate" />
      
        
  <meta  name="author"content="ูุฑูุฒ ุฑุงุญุฉ ููุงุณุชุดุงุฑุงุช ุงูููุณูุฉ ูุงูุชุฏุฑูุจ">
  <meta name="description" content="ูุฑูุฒ ุฑุงุญุฉ ุงุณุชุดุงุฑุงุช ููุณูุฉ ูุชุฏุฑูุจ ููุฏู ุฌูุณุงุช ุงูุนูุงุฌ ุงูููุณู ูุงูุงุฑุดุงุฏ ุงูููุณู ูุงูุฃุณุฑู ูุงูุชุฏุฑูุจ ุงููููู ูุชูููุฉ ุงูููุงุฑุงุช ุนู ุทุฑูู ูุฌููุนุฉ ูู ุงููุฎุชุตูู ูู ุงูุตุญุฉ ุงูููุณูุฉ">
  <meta name="keywords" content="PSYCHOTHERAPY,ุฌูุณุงุช ููุณูุฉ,ุนูุงุฌ ููุณู, ุชุฏุฑูุจ, ุชูููุฉ ููุงุฑุงุช,ุงุถุทุฑุงุจุงุช">
  <meta name="robots" content="index , follow">

  <meta property="og:title" content="RAHA-ุฑุงุญุฉ">
  <meta property="og:description" content="ูุฑูุฒ ุฑุงุญุฉ ุงุณุชุดุงุฑุงุช ููุณูุฉ ูุชุฏุฑูุจ ููุฏู ุฌูุณุงุช ุงูุนูุงุฌ ุงูููุณู ูุงูุงุฑุดุงุฏ ุงูููุณู ูุงูุฃุณุฑู ูุงูุชุฏุฑูุจ ุงููููู ูุชูููุฉ ุงูููุงุฑุงุช ุบู ุทุฑูู ูุฌููุนุฉ ูู ุงููุฎุชุตูู ูู ุงูุตุญุฉ ุงูููุณูุฉ">
  <meta property="og:image" content="html.png">
  <meta property="og:url" content="https://raha-center.com">
  <meta property="og:type" content="website">


        <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-YK5RTMV3X5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-YK5RTMV3X5');
</script>

<meta name="google-adsense-account" content="ca-pub-9837779772046449">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9837779772046449"
     crossorigin="anonymous"></script>
      
      </head>
      
      <body>
      
       <!-- start of header  -->
       <header>
          <!-- start of navigation bar -->
          <nav class="nav-bar">
              <div id="menu-bar" class="fas fa-bars" onclick="showMenu()"><p>Menu</p></div>
      
      
              <section>
                  <div id="nav">
                      <a href="index.html" id="icon" >
                          <img src="../assets/image/favicon.ico "   alt="raha psychotherapy">
                      </a>
                    
                      <ul id="nav-pages">   
                          <li><a href="index.html" >Home</a> </li>
                          <li><a href="index.html#about" >About us</a> </li>
                          <li><a href="index.html#services" >Our services</a> </li>
                          <li><a href="booking.html">Booking</a> </li>
                          <li><a href="prices.html" >Prices & subscriptions</a> </li>
                          <li><a href="books.html">books</a> </li>
                          <li><a href="articles.html" class="active" >Articles in mental health</a> </li>
                          <li><a href="courses.html" >Cousrses</a>  </li>
                          <li><a href="videos.html" >videos</a>  </li>
                          <li> <a href="#contact" >Contact us</a> </li>
      
                          
                      </ul>

                      <a href="ads.html" style="margin: 0 10px;">๐ข ุฃุนูู ูุนูุง</a>

          </div>
      
         
              </section>
      
      </nav>
      <!-- end of nav bar -->
      
      
      
      <!-- start of log in -->
    
      <!-- end of ogin -->
      
      
      
      <!--  navigation bar -->
          <section>
             <div id="links">
                <a href="mailto:rahacounseling22@gmail.com" target="_blank" title="Gmail">
                    <img src="https://cdn-icons-png.flaticon.com/512/732/732200.png" alt="Gmail" width="40">
                </a>           
                <a href="tel:0223150285" title="Call">
                    <img src="https://cdn-icons-png.flaticon.com/512/724/724664.png" alt="Phone" width="40">
                </a>            
                <a href="https://wa.me/201507578139" target="_blank" title="WhatsApp">
                    <img src="https://cdn-icons-png.flaticon.com/512/124/124034.png" alt="WhatsApp" width="40">
                </a>             
                <a href="https://www.facebook.com/Raha.counseling22/" target="_blank" title="Facebook">
                    <img src="https://cdn-icons-png.flaticon.com/512/174/174848.png" alt="Facebook" width="40">
                </a>            
                <a href="https://www.linkedin.com/in/raha-counseling-b98972244/" target="_blank" title="LinkedIn">
                    <img src="https://cdn-icons-png.flaticon.com/512/174/174857.png" alt="LinkedIn" width="40">
                </a>        
        </div>
      
              
      <p align="center">
      <q>
         <strong>ุตุญุชู ุงูููุณูุฉ ุฃููููุฉ</strong>
      </q>
      </p>
      
         </section>
      
      </header>
      <hr>
      
<!-- end of header  -->





<!-- beginning of section main -->
 <main>

    <div class="blog-container">
        <article class="blog-post">

            <img src="../assets/image/3.jpg.jpeg" alt="ุตูุฑุฉ ุชุนุจูุฑูุฉ ููุตุญุฉ ุงูููุณูุฉ" class="article-image">

            <p class="date">ููุดุฑ ูู: 25 ูุงุฑุณ 2025 | ุจูุงุณุทุฉ <strong>ูุฑูุฒ ุฑุงุญุฉ ููุงุณุชุดุงุฑุงุช ุงูููุณูุฉ</strong></p>

            <p>
                ุชูุนุจ ุงูุตุญุฉ ุงูููุณูุฉ ุฏูุฑูุง ููููุง ูู ุชุญููู ุงูุชูุงุฒู ูุงูุณุนุงุฏุฉ ูู ุญูุงุชูุง. ูู ูุฐุง ุงูููุงูุ ุณูุชูุงูู ููููุฉ ุชุนุฒูุฒ ุงูุตุญุฉ ุงูููุณูุฉ ูุงูุชุบูุจ ุนูู ุงูุชุญุฏูุงุช ุงูููููุฉ ุงูุชู ููุงุฌููุง.
            </p>

            <h2>๐น ูุง ูู ุงูุตุญุฉ ุงูููุณูุฉุ</h2>
            <p>
                ุงูุตุญุฉ ุงูููุณูุฉ ุชุดูุฑ ุฅูู ุงูุญุงูุฉ ุงูุนุงุทููุฉ ูุงูุนูููุฉ ุงูุชู ุชููู ุงููุฑุฏ ูู ุงูุชุนุงูู ูุน ุถุบูุท ุงูุญูุงุฉ ุงูููููุฉุ ูุงูุนูู ุจููุงุกุฉุ ูุงููุณุงููุฉ ูู ุงููุฌุชูุน ุจุดูู ุฅูุฌุงุจู.
            </p>

            <h2>๐น ุฃูููุฉ ุงูุตุญุฉ ุงูููุณูุฉ</h2>
            <ul>
                <li>ุชุญุณูู ุฌูุฏุฉ ุงูุญูุงุฉ ูุฒูุงุฏุฉ ุงูุฅูุชุงุฌูุฉ.</li>
                <li>ุงูุญุฏ ูู ูุดุงุนุฑ ุงูููู ูุงูุงูุชุฆุงุจ.</li>
                <li>ุชุญุณูู ุงูุนูุงูุงุช ุงูุงุฌุชูุงุนูุฉ ูุงูุชูุงุตู ูุน ุงูุขุฎุฑูู.</li>
                <li>ุชุนุฒูุฒ ุงูุซูุฉ ุจุงูููุณ ูุงููุฏุฑุฉ ุนูู ุงุชุฎุงุฐ ุงููุฑุงุฑุงุช</li>
            </ul>

            <h2>๐น ููููุฉ ุงูุญูุงุธ ุนูู ุงูุตุญุฉ ุงูููุณูุฉุ</h2>
            <p>ููุงู ุงูุนุฏูุฏ ูู ุงูุทุฑู ุงูุชู ุชุณุงุนุฏ ูู ุงูุญูุงุธ ุนูู ุตุญุฉ ููุณูุฉ ุฌูุฏุฉุ ูููุง:</p>

            <ol>
                <li><strong>ุงููุนู ุงูุฐุงุชู:</strong> ูููุนู ุงูุฐุงุชู ุฏูุฑุง ูุจูุฑุง ูู ุงูููุงูุฉ ูู ูุณุจุจุงุช ุงูุงุถุทุฑุงุจุงุช ุงูููุณูุฉ .</li>
                <li><strong> ุงููุญุงูุธุฉ ุนูู ุงูููู:</strong> ุชุฌูุง ููุตุฑุงุนุงุช ุงููุงุชุฌุฉ ูู ุงูุชุณุงูู ูุงูุชูุงุฒู ุนู ุงูููู ูุงููุจุงุฏูุก ูุงูุชู ุชุดุนุฑูุง ุจุงูุชูุงูุถ   .</li>
                  <h3>   ุงูุฑูุชูู ุงูุตุญู :    </h3>     
                <li><strong>ููุงุฑุณุฉ ุงูุฑูุงุถุฉ:</strong> ุชุณุงุนุฏ ุนูู ุชุญุณูู ุงูุญุงูุฉ ุงููุฒุงุฌูุฉ ูุชูููู ุงูุชูุชุฑ.</li>
                <li><strong>ุงูุชูุงุตู ุงูุงุฌุชูุงุนู:</strong> ุงูุจูุงุก ุนูู ุงุชุตุงู ูุน ุงูุฃุตุฏูุงุก ูุงูุนุงุฆูุฉ ูููู ูู ูุดุงุนุฑ ุงููุญุฏุฉ.</li>
                <li><strong>ุงูุชุฃูู ูุงูุงุณุชุฑุฎุงุก:</strong> ูุณุงูู ูู ุชุฎููู ุงูุถุบูุท ุงูููุณูุฉ ูุฒูุงุฏุฉ ุงูุชุฑููุฒ.</li>
                <li><strong>ุงุชุจุงุน ูุธุงู ุบุฐุงุฆู ุตุญู:</strong> ุงูุชุบุฐูุฉ ุงูุฌูุฏุฉ ุชูุนุจ ุฏูุฑูุง ููููุง ูู ุชุญุณูู ุงููุฒุงุฌ ูุงูุทุงูุฉ.</li>
            </ol>

            <h2>๐น ูุงุฐุง ุชูุนู ุนูุฏ ุงูุดุนูุฑ ุจุงูุถุบุท ุงูููุณูุ</h2>
            <blockquote>
                "ูู ุงูููู ุฃู ุชุฏุฑู ุฃู ูุดุงุนุฑู ูุคูุชุฉุ ูุฃู ุงูุจุญุซ ุนู ุงูุฏุนู ูู ุฎุทูุฉ ูููุฉ ููุชุนุงูู ูุน ุงูุถุบูุท."
            </blockquote>
            <p>
                ุฅุฐุง ููุช ุชุดุนุฑ ุจุงูุชูุชุฑ ุฃู ุงููููุ ููููู ุชุฌุฑุจุฉ ุชูููุงุช ุงูุงุณุชุฑุฎุงุก ูุซู ุงูุชููุณ ุงูุนูููุ ุฃู ููุงุฑุณุฉ ุงูุฑูุงุถุฉุ ุฃู  ูุชุงุจุฉ ููููุงุชู ููุชุนุจูุฑ ุนู ูุดุงุนุฑู.
            </p>

            <h2>๐ ุฎุงุชูุฉ</h2>
            <p>
                ุงูุญูุงุธ ุนูู ุงูุตุญุฉ ุงูููุณูุฉ ุฃูุฑ ุถุฑูุฑู ูุญูุงุฉ ูุชูุงุฒูุฉ ูุณุนูุฏุฉ. ูุง ุชุชุฑุฏุฏ ูู ุทูุจ ุงููุณุงุนุฏุฉ ุฅุฐุง ููุช ุจุญุงุฌุฉ ุฅูููุงุ ูุงูุชุญุฏุซ ุฅูู ูุฎุชุต ูููู ุฃู ูุญุฏุซ ูุฑููุง ูุจูุฑูุง ูู ุญูุงุชู.
            </p>

            <a href="articles.html" class="back-button">โฌ๏ธ ุนูุฏุฉ ูููุฏููุฉ</a>
            <a href="booking.html" class="back-home">   ูุญุฌุฒ ููุนุฏ ุฌูุณุฉ </a>

            
        </article>
    </div>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            text-align: center;
            padding: 20px;
        }
        h2 {
            color: #0056b3;
        }
        form {
            background: white;
            padding: 20px;
            max-width: 500px;
            margin: 20px auto;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        input, textarea, button {
            width: 100%;
            padding: 10px;
            margin: 8px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
            box-sizing: border-box;
            text-transform: lowercase;
        }
        input:first-letter {
            text-transform: lowercase !important;
        }
        button {
            background-color: #0056b3;
            color: white;
            cursor: pointer;
            border: none;
            transition: background-color 0.3s;
            text-transform: none;
        }
        button:hover {
            background-color: #003d82;
        }
        #comments-list {
            max-width: 600px;
            margin: 20px auto;
            text-align: right;
        }
        .comment-box {
            background: white;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }
        .comment-header {
            font-weight: bold;
            color: #0056b3;
            margin-bottom: 5px;
            font-size: 16px;
        }
        .comment-text {
            margin: 10px 0;
            color: #333;
            font-size: 15px;
            line-height: 1.5;
        }
        .reply-btn {
            background-color: #28a745;
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            font-size: 14px;
            display: inline-block;
        }
        .reply-btn:hover {
            background-color: #218838;
        }
        .reply-form {
            margin-top: 15px;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }
        .reply-input {
            width: 100%;
            margin-bottom: 10px;
            text-transform: lowercase;
        }
        .reply-input:first-letter {
            text-transform: lowercase !important;
        }
        .replies-container {
            margin-top: 15px;
            padding-left: 15px;
            border-left: 3px solid #eee;
        }
        .reply-box {
            background: #f8f9fa;
            padding: 12px;
            margin: 12px 0;
            border-radius: 6px;
            border: 1px solid #eaeaea;
        }
        .reply-box .comment-header {
            color: #28a745;
            font-size: 15px;
        }
        .reply-text {
            color: #555;
            font-size: 14px;
            margin: 8px 0;
            line-height: 1.4;
        }
        .timestamp {
            color: #999;
            font-size: 12px;
            margin: 5px 0;
        }
        .error-msg {
            color: #dc3545;
            background-color: #f8d7da;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            text-align: center;
        }
        .loading {
            text-align: center;
            padding: 15px;
            color: #666;
        }
        .invalid-email {
            border-color: #dc3545 !important;
        }
        .email-error {
            color: #dc3545;
            font-size: 12px;
            margin-top: -5px;
            margin-bottom: 10px;
            display: none;
            text-align: right;
        }
    </style>
</head>
<body>
    <h2>ุงูุชุนูููุงุช</h2>

    <form id="comment-form">
        <input type="email" id="email" placeholder="ุฃุฏุฎู ุจุฑูุฏู ุงูุฅููุชุฑููู" required autocomplete="email">
        <div class="email-error" id="email-error">ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุบูุฑ ุตุญูุญ</div>
        <textarea id="comment" placeholder="ุงูุชุจ ุชุนูููู ููุง" required rows="4"></textarea>
        <button type="submit">ุฅุฑุณุงู ุงูุชุนููู</button>
    </form>

    <div id="comments-list">
        <p class="loading">ุฌุงุฑู ุชุญููู ุงูุชุนูููุงุช...</p>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { 
            getFirestore, 
            collection, 
            addDoc, 
            serverTimestamp, 
            query, 
            orderBy, 
            onSnapshot,
            where,
            getDocs
        } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // ุชูููู Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyBdj4CmSCRfcueEBp3SPXSUhpFElCTOIwQ",
            authDomain: "raha-comments.firebaseapp.com",
            projectId: "raha-comments",
            storageBucket: "raha-comments.appspot.com",
            messagingSenderId: "858432621804",
            appId: "1:858432621804:web:ea260d3de2d785ee8f69c9",
            measurementId: "G-KH154B1NJD"
        };

        // ุชููุฆุฉ Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // ุฏุงูุฉ ุงูุชุญูู ูู ุตุญุฉ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
        function isValidEmail(email) {
            const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(String(email).toLowerCase());
        }

        // ุฅุนุฏุงุฏ ุชุญูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
        function setupEmailValidation() {
            const emailInput = document.getElementById('email');
            const emailError = document.getElementById('email-error');

            // ุญู ูุดููุฉ ุงูุฃุญุฑู ุงููุจูุฑุฉ
            emailInput.addEventListener('input', function() {
                this.value = this.value.toLowerCase();
                const email = this.value.trim();
                if (email && !isValidEmail(email)) {
                    this.classList.add('invalid-email');
                    emailError.style.display = 'block';
                } else {
                    this.classList.remove('invalid-email');
                    emailError.style.display = 'none';
                }
            });

            // ุฅุนุฏุงุฏ ุงูุชุญูู ูุฃู ุญููู ุจุฑูุฏ ุฅููุชุฑููู ุฌุฏูุฏุฉ ุชุถุงู ุฏููุงููููุงู
            document.addEventListener('click', function(e) {
                if (e.target && e.target.classList.contains('reply-btn')) {
                    const commentId = e.target.closest('.comment-box').dataset.id;
                    const replyForm = document.getElementById(`reply-form-${commentId}`);
                    if (replyForm) {
                        const replyEmailInput = replyForm.querySelector('input[type="email"]');
                        const replyEmailError = document.createElement('div');
                        replyEmailError.className = 'email-error';
                        replyEmailError.textContent = 'ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุบูุฑ ุตุญูุญ';
                        replyForm.insertBefore(replyEmailError, replyEmailInput.nextSibling);

                        replyEmailInput.addEventListener('input', function() {
                            this.value = this.value.toLowerCase();
                            const email = this.value.trim();
                            if (email && !isValidEmail(email)) {
                                this.classList.add('invalid-email');
                                replyEmailError.style.display = 'block';
                            } else {
                                this.classList.remove('invalid-email');
                                replyEmailError.style.display = 'none';
                            }
                        });
                    }
                }
            });
        }

        // ุฅุฑุณุงู ุชุนููู ุฌุฏูุฏ
        document.getElementById("comment-form").addEventListener("submit", async (e) => {
            e.preventDefault();
            const email = document.getElementById("email").value.trim().toLowerCase();
            const comment = document.getElementById("comment").value.trim();
            const submitBtn = e.target.querySelector("button[type='submit']");

            if (!email || !comment) {
                alert("ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ููุชุงุจุฉ ุงูุชุนููู");
                return;
            }

            if (!isValidEmail(email)) {
                alert("ุงูุฑุฌุงุก ุฅุฏุฎุงู ุจุฑูุฏ ุฅููุชุฑููู ุตุญูุญ");
                document.getElementById("email").focus();
                return;
            }

            try {
                submitBtn.disabled = true;
                submitBtn.textContent = "ุฌุงุฑู ุงูุฅุฑุณุงู...";
                
                await addDoc(collection(db, "comments"), {
                    email,
                    comment,
                    timestamp: serverTimestamp()
                });
                document.getElementById("comment-form").reset();
            } catch (error) {
                console.error("Error adding comment: ", error);
                alert("ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุฅุฑุณุงู ุงูุชุนูููุ ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู");
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = "ุฅุฑุณุงู ุงูุชุนููู";
            }
        });

        // ุชุญููู ุงูุชุนูููุงุช ูุงูุฑุฏูุฏ
        function loadComments() {
            const commentsList = document.getElementById("comments-list");
            const q = query(collection(db, "comments"), orderBy("timestamp", "desc"));

            const unsubscribe = onSnapshot(q, async (snapshot) => {
                if (snapshot.empty) {
                    commentsList.innerHTML = "<p>ูุง ุชูุฌุฏ ุชุนูููุงุช ุจุนุฏ. ูู ุฃูู ูู ูุนูู!</p>";
                    return;
                }

                commentsList.innerHTML = "";
                
                const commentPromises = snapshot.docs.map(async (doc) => {
                    const data = doc.data();
                    const commentDate = data.timestamp?.toDate() || new Date();
                    
                    // ุฅูุดุงุก ุนูุตุฑ ุงูุชุนููู
                    const commentElement = document.createElement("div");
                    commentElement.className = "comment-box";
                    commentElement.dataset.id = doc.id;
                    commentElement.innerHTML = `
                        <div class="comment-header">${data.email}</div>
                        <div class="timestamp">${formatDate(commentDate)}</div>
                        <div class="comment-text">${data.comment}</div>
                        <button class="reply-btn">ุฑุฏ ุนูู ุงูุชุนููู</button>
                        <div class="reply-form" id="reply-form-${doc.id}">
                            <input type="email" class="reply-input" placeholder="ุจุฑูุฏู ุงูุฅููุชุฑููู" required autocomplete="email">
                            <input type="text" class="reply-input" placeholder="ุงูุชุจ ุฑุฏู ููุง" required>
                            <button class="reply-btn" id="submit-reply-${doc.id}">ุฅุฑุณุงู ุงูุฑุฏ</button>
                        </div>
                        <div class="replies-container" id="replies-${doc.id}"></div>
                    `;
                    
                    commentsList.appendChild(commentElement);
                    
                    // ุชุญููู ุงูุฑุฏูุฏ ููุฐุง ุงูุชุนููู
                    await loadReplies(doc.id);
                    
                    // ุฅุนุฏุงุฏ ุฃุฒุฑุงุฑ ุงูุฑุฏ
                    setupReplyButtons(doc.id);
                });

                await Promise.all(commentPromises);
            });

            return unsubscribe;
        }

        // ุชุญููู ุงูุฑุฏูุฏ ูุชุนููู ูุนูู
        async function loadReplies(commentId) {
            const repliesContainer = document.getElementById(`replies-${commentId}`);
            if (!repliesContainer) return;

            try {
                repliesContainer.innerHTML = "<p class='loading'>ุฌุงุฑู ุชุญููู ุงูุฑุฏูุฏ...</p>";
                
                const repliesQuery = query(
                    collection(db, "replies"),
                    where("commentId", "==", commentId),
                    orderBy("timestamp", "asc")
                );
                
                const repliesSnapshot = await getDocs(repliesQuery);
                
                if (repliesSnapshot.empty) {
                    repliesContainer.innerHTML = "";
                    return;
                }
                
                repliesContainer.innerHTML = repliesSnapshot.docs.map(replyDoc => {
                    const replyData = replyDoc.data();
                    const replyDate = replyData.timestamp?.toDate() || new Date();
                    return `
                        <div class="reply-box">
                            <div class="comment-header">${replyData.email || "ูุณุชุฎุฏู ูุฌููู"}</div>
                            <div class="timestamp">${formatDate(replyDate)}</div>
                            <div class="reply-text">${replyData.reply}</div>
                        </div>
                    `;
                }).join('');
            } catch (error) {
                console.error("Error loading replies:", error);
                repliesContainer.innerHTML = `
                    <p class="error-msg">
                        ุญุฏุซ ุฎุทุฃ ูู ุชุญููู ุงูุฑุฏูุฏ: ${error.message}
                    </p>
                `;
            }
        }

        // ุฅุนุฏุงุฏ ุฃุฒุฑุงุฑ ุงูุฑุฏ
        function setupReplyButtons(commentId) {
            const replyBtn = document.querySelector(`.comment-box[data-id="${commentId}"] .reply-btn`);
            const submitReplyBtn = document.getElementById(`submit-reply-${commentId}`);
            
            if (replyBtn && submitReplyBtn) {
                replyBtn.addEventListener("click", () => {
                    const replyForm = document.getElementById(`reply-form-${commentId}`);
                    replyForm.style.display = replyForm.style.display === "none" ? "block" : "none";
                    
                    // ูุณุฎ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูู ุงูุชุนููู ุงูุฑุฆูุณู ุฅุฐุง ูุงู ููุฌูุฏุงู
                    const mainEmail = document.getElementById('email').value;
                    if (mainEmail) {
                        const replyEmailInput = replyForm.querySelector('input[type="email"]');
                        replyEmailInput.value = mainEmail;
                    }
                });
                
                submitReplyBtn.addEventListener("click", async () => {
                    await submitReply(commentId);
                });
            }
        }

        // ุฅุฑุณุงู ุงูุฑุฏ
        async function submitReply(commentId) {
            const replyForm = document.getElementById(`reply-form-${commentId}`);
            const emailInput = replyForm.querySelector('input[type="email"]');
            const replyInput = replyForm.querySelector('input[type="text"]');
            const submitBtn = document.getElementById(`submit-reply-${commentId}`);
            
            const email = emailInput.value.trim().toLowerCase();
            const replyText = replyInput.value.trim();
            
            if (!email || !replyText) {
                alert("ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ููุชุงุจุฉ ุงูุฑุฏ");
                return;
            }

            if (!isValidEmail(email)) {
                alert("ุงูุฑุฌุงุก ุฅุฏุฎุงู ุจุฑูุฏ ุฅููุชุฑููู ุตุญูุญ");
                emailInput.focus();
                return;
            }

            try {
                submitBtn.disabled = true;
                submitBtn.textContent = "ุฌุงุฑู ุงูุฅุฑุณุงู...";
                
                await addDoc(collection(db, "replies"), {
                    commentId,
                    reply: replyText,
                    email: email,
                    timestamp: serverTimestamp()
                });
                
                emailInput.value = "";
                replyInput.value = "";
                replyForm.style.display = "none";
                await loadReplies(commentId);
            } catch (error) {
                console.error("Error adding reply: ", error);
                alert("ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุฅุฑุณุงู ุงูุฑุฏุ ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู");
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = "ุฅุฑุณุงู ุงูุฑุฏ";
            }
        }

        // ุชูุณูู ุงูุชุงุฑูุฎ
        function formatDate(date) {
            try {
                return new Date(date).toLocaleString("ar-EG", {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric',
                    hour: '2-digit',
                    minute: '2-digit'
                });
            } catch (e) {
                console.error("Error formatting date:", date, e);
                return "ุชุงุฑูุฎ ุบูุฑ ูุนุฑูู";
            }
        }

        // ุชุญููู ุงูุชุนูููุงุช ุนูุฏ ุจุฏุก ุงูุชุดุบูู
        document.addEventListener("DOMContentLoaded", () => {
            setupEmailValidation();
            try {
                const unsubscribe = loadComments();
                
                window.addEventListener("beforeunload", () => {
                    if (unsubscribe && typeof unsubscribe === "function") {
                        unsubscribe();
                    }
                });
            } catch (error) {
                console.error("Initialization error:", error);
                document.getElementById("comments-list").innerHTML = 
                    "<p class='error-msg'>ุญุฏุซ ุฎุทุฃ ูู ุชุญููู ุงููุธุงูุ ูุฑุฌู ุชุญุฏูุซ ุงูุตูุญุฉ</p>";
            }
        });
    </script>
 </main>

 <section class="related-articles">
    <h2>๐ ููุงูุงุช ุฐุงุช ุตูุฉ</h2>
    <div class="articles-container">
        <article>
            <a href="article2.html">
                <h3>๐ ููููุฉ ุงูุชุบูุจ ุนูู ุงูููู ูุงูุชูุชุฑ </h3>
                <p>     ุงูููู ูุงูุชูุชุฑ ูู ุงููุดุงูู ุงูุดุงุฆุนุฉ ูู ุญูุงุชูุง ุงูููููุฉุ ููู ููุงู ุทุฑู ูุนุงูุฉ ููุชุนุงูู ูุนูุง ูุซู ุงูุชุฃูู ูุชูููุงุช ุงูุชููุณ ุงูุนููู.
                </p>
            </a>
        </article>

        <article>
            <a href="article3.html">
                <h3>๐   ููู ูุด ุนุงุฑู ุฃุฑุถูุ ูู ุฃูุง ุงููุงูู ุถุนููุ

                </h3>
                <p>ุงูุฎูู ูู ุดุนูุฑ ุนุฏู ุงูุฑุถุง ุนูู ุฑุจูุง ููุฏุฑู  ูุชุฌูุจ ุงูุดุนูุฑ ุจุงูุฐูุจ  ุจุณุจุจ ุงูู ููููุนุด ุฃุนุชุฑู ูุฏุงู ููุณู ุงู ูุฏุงู ุบูุฑู ุจุนุฏู ุงูุฑุถุง ูุฃูู ูุฏุง ุจููู ุฅูู    ุจุนุชุฑุถ ุนูู ุฑุจูุง ูุงูู ุถุนูู ุงูุงููุงู ุงู ูููู ูุงูุฑ

                </p>
            </a>
        </article>

        <article>
            <a href="article4.html">
                <h3>๐ููู ูุง ุฃุชุฃุซุฑ ุจููุงู ุงููุงุณ
                </h3>
                <p>   
                    ุชูุฌุฏ ุนูุงูู ูุซูุฑุฉ ุชุฌุนููุง ูุชุฃุซุฑ ุจููุงู ุงููุงุณ ุจุทุฑููุฉ ุชุถุฑ ุจุตุญุชูุง ุงูููุณูุฉ ูุชุฑูููุง ูู ุญูุงุชูุง ุงูููููุฉ ูุชุคุซุฑ ุนูู ูุฑุงุฑุงุชูุง ูุชุดูู ุงุบูุจ ุณููููุงุชูุง.

                </p>
            </a>
        </article>
    </div>
     
    <a href="index.html" class="back-home">ุงูุนูุฏุฉ ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</a>
    <a href="booking.html" class="back-home">   ูุญุฌุฒ ููุนุฏ ุฌูุณุฉ </a>


</section>






 <hr width="400" align="center">

 
 <aside class="sidebar">
    <!-- ุตูุฏูู ุงูุจุญุซ -->
   

    <!-- ูุณู ุงูุฅุนูุงูุงุช -->
    <div class="ads-section">
        <h3>๐ข ุงูุฅุนูุงูุงุช</h3>

        <div class="ad">
            <h4>๐ ุฅุนูุงู 1</h4>
            <p>ุงุญุตู ุนูู ุฎุตู 20% ุนูู ุฌููุน ุงูููุชุฌุงุช! โณ</p>
        </div>

        <div class="ad">
            <h4>๐ ุฅุนูุงู 2</h4>
            <p>ุงูุถู ุฅูููุง ูุงุณุชูุชุน ุจุนุฑูุถ ุญุตุฑูุฉ! ๐</p>
        </div>

        <div class="ad">
            <h4>๐ผ ุฅุนูุงู 3</h4>
            <p>ูุฑุต ุนูู ุฌุฏูุฏุฉ ูู ุงูุชุธุงุฑู! ๐ผโจ</p>
        </div>
    </div>
</aside>
  
<!-- start of footer  -->
<footer> 

<!-- start of contact  -->
<section id="contact">

    <h2 align="center">Contact us</h2>

    <div id="links">
        <a href="mailto:rahacounseling22@gmail.com" target="_blank" title="Gmail">
            <img src="https://cdn-icons-png.flaticon.com/512/732/732200.png" alt="Gmail" width="40">
        </a>           
        <a href="tel:0223150285" title="Call">
            <img src="https://cdn-icons-png.flaticon.com/512/724/724664.png" alt="Phone" width="40">
        </a>            
        <a href="https://wa.me/201507578139" target="_blank" title="WhatsApp">
            <img src="https://cdn-icons-png.flaticon.com/512/124/124034.png" alt="WhatsApp" width="40">
        </a>             
        <a href="https://www.facebook.com/Raha.counseling22/" target="_blank" title="Facebook">
            <img src="https://cdn-icons-png.flaticon.com/512/174/174848.png" alt="Facebook" width="40">
        </a>            
        <a href="https://www.linkedin.com/in/raha-counseling-b98972244/" target="_blank" title="LinkedIn">
            <img src="https://cdn-icons-png.flaticon.com/512/174/174857.png" alt="LinkedIn" width="40">
        </a>        
</div>
<!-- end of contact  -->


<p>
    <a href="terms.html">ุงูุดุฑูุท ูุงูุณูุงุณุงุช</a>

</p>

<p>
    Copyright &copy; 2025 RAHA 
</p>  
</section>

</footer>
<!-- end of footer  -->





<script src="../assets/java/book.js"></script>
</body>


</html>