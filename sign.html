<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</title>
</head>
<body>

    <h2>ØªØ³Ø¬ÙŠÙ„ Ø­Ø³Ø§Ø¨</h2>
    <input type="email" id="signup-email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
    <input type="password" id="signup-password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
    <button onclick="signup()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>

    <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
    <input type="email" id="login-email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
    <input type="password" id="login-password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
    <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>

    <h2>Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</h2>
    <p id="user-status">Ù„Ù… ØªÙ‚Ù… Ø¨ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„.</p>

    <button onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } 
        from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        const firebaseConfig = {
  apiKey: "AIzaSyBdj4CmSCRfcueEBp3SPXSUhpFElCTOIwQ",
  authDomain: "raha-comments.firebaseapp.com",
  projectId: "raha-comments",
  storageBucket: "raha-comments.firebasestorage.app",
  messagingSenderId: "858432621804",
  appId: "1:858432621804:web:8169181aef758f888f69c9",
  measurementId: "G-5V227R3GJK"
};
    
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
    
        window.signup = async function() {
            const email = document.getElementById("signup-email").value;
            const password = document.getElementById("signup-password").value;
            try {
                await createUserWithEmailAndPassword(auth, email, password);
                alert("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­ ðŸŽ‰");
            } catch (error) {
                alert("Ø®Ø·Ø£: " + error.message);
            }
        };
    
        window.login = async function() {
            const email = document.getElementById("login-email").value;
            const password = document.getElementById("login-password").value;
            try {
                await signInWithEmailAndPassword(auth, email, password);
                alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­ âœ…");
            } catch (error) {
                alert("Ø®Ø·Ø£: " + error.message);
            }
        };
    
        window.logout = async function() {
            await signOut(auth);
            alert("ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ ðŸ‘‹");
        };
    
        onAuthStateChanged(auth, (user) => {
            const status = document.getElementById("user-status");
            if (user) {
                status.innerHTML = `Ù…Ø±Ø­Ø¨Ø§ØŒ ${user.email} ðŸ‘‹`;
            } else {
                status.innerHTML = "Ù„Ù… ØªÙ‚Ù… Ø¨ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„.";
            }
        });
    </script>
    
</body>
</html>
